{"ast":null,"code":"import \"./chunk-PXG64RU4.js\";\n\n// src/infiniteQueryBehavior.ts\nimport { addToEnd, addToStart, ensureQueryFn } from \"./utils.js\";\nfunction infiniteQueryBehavior(pages) {\n  return {\n    onFetch: (context, query) => {\n      var _a, _b, _c, _d, _e;\n      const options = context.options;\n      const direction = (_c = (_b = (_a = context.fetchOptions) == null ? void 0 : _a.meta) == null ? void 0 : _b.fetchMore) == null ? void 0 : _c.direction;\n      const oldPages = ((_d = context.state.data) == null ? void 0 : _d.pages) || [];\n      const oldPageParams = ((_e = context.state.data) == null ? void 0 : _e.pageParams) || [];\n      let result = {\n        pages: [],\n        pageParams: []\n      };\n      let currentPage = 0;\n      const fetchFn = async () => {\n        let cancelled = false;\n        const addSignalProperty = object => {\n          Object.defineProperty(object, \"signal\", {\n            enumerable: true,\n            get: () => {\n              if (context.signal.aborted) {\n                cancelled = true;\n              } else {\n                context.signal.addEventListener(\"abort\", () => {\n                  cancelled = true;\n                });\n              }\n              return context.signal;\n            }\n          });\n        };\n        const queryFn = ensureQueryFn(context.options, context.fetchOptions);\n        const fetchPage = async (data, param, previous) => {\n          if (cancelled) {\n            return Promise.reject();\n          }\n          if (param == null && data.pages.length) {\n            return Promise.resolve(data);\n          }\n          const queryFnContext = {\n            client: context.client,\n            queryKey: context.queryKey,\n            pageParam: param,\n            direction: previous ? \"backward\" : \"forward\",\n            meta: context.options.meta\n          };\n          addSignalProperty(queryFnContext);\n          const page = await queryFn(queryFnContext);\n          const {\n            maxPages\n          } = context.options;\n          const addTo = previous ? addToStart : addToEnd;\n          return {\n            pages: addTo(data.pages, page, maxPages),\n            pageParams: addTo(data.pageParams, param, maxPages)\n          };\n        };\n        if (direction && oldPages.length) {\n          const previous = direction === \"backward\";\n          const pageParamFn = previous ? getPreviousPageParam : getNextPageParam;\n          const oldData = {\n            pages: oldPages,\n            pageParams: oldPageParams\n          };\n          const param = pageParamFn(options, oldData);\n          result = await fetchPage(oldData, param, previous);\n        } else {\n          const remainingPages = pages ?? oldPages.length;\n          do {\n            const param = currentPage === 0 ? oldPageParams[0] ?? options.initialPageParam : getNextPageParam(options, result);\n            if (currentPage > 0 && param == null) {\n              break;\n            }\n            result = await fetchPage(result, param);\n            currentPage++;\n          } while (currentPage < remainingPages);\n        }\n        return result;\n      };\n      if (context.options.persister) {\n        context.fetchFn = () => {\n          var _a2, _b2;\n          return (_b2 = (_a2 = context.options).persister) == null ? void 0 : _b2.call(_a2, fetchFn, {\n            client: context.client,\n            queryKey: context.queryKey,\n            meta: context.options.meta,\n            signal: context.signal\n          }, query);\n        };\n      } else {\n        context.fetchFn = fetchFn;\n      }\n    }\n  };\n}\nfunction getNextPageParam(options, {\n  pages,\n  pageParams\n}) {\n  const lastIndex = pages.length - 1;\n  return pages.length > 0 ? options.getNextPageParam(pages[lastIndex], pages, pageParams[lastIndex], pageParams) : void 0;\n}\nfunction getPreviousPageParam(options, {\n  pages,\n  pageParams\n}) {\n  var _a;\n  return pages.length > 0 ? (_a = options.getPreviousPageParam) == null ? void 0 : _a.call(options, pages[0], pages, pageParams[0], pageParams) : void 0;\n}\nfunction hasNextPage(options, data) {\n  if (!data) return false;\n  return getNextPageParam(options, data) != null;\n}\nfunction hasPreviousPage(options, data) {\n  if (!data || !options.getPreviousPageParam) return false;\n  return getPreviousPageParam(options, data) != null;\n}\nexport { hasNextPage, hasPreviousPage, infiniteQueryBehavior };","map":{"version":3,"names":["addToEnd","addToStart","ensureQueryFn","infiniteQueryBehavior","pages","onFetch","context","query","_a","_b","_c","_d","_e","options","direction","fetchOptions","meta","fetchMore","oldPages","state","data","oldPageParams","pageParams","result","currentPage","fetchFn","cancelled","addSignalProperty","object","Object","defineProperty","enumerable","get","signal","aborted","addEventListener","queryFn","fetchPage","param","previous","Promise","reject","length","resolve","queryFnContext","client","queryKey","pageParam","page","maxPages","addTo","pageParamFn","getPreviousPageParam","getNextPageParam","oldData","remainingPages","initialPageParam","persister","_a2","_b2","call","lastIndex","hasNextPage","hasPreviousPage"],"sources":["/Users/bts-ank-0608/Final-Project/frontend/node_modules/@tanstack/query-core/build/legacy/infiniteQueryBehavior.js"],"sourcesContent":["import \"./chunk-PXG64RU4.js\";\n\n// src/infiniteQueryBehavior.ts\nimport { addToEnd, addToStart, ensureQueryFn } from \"./utils.js\";\nfunction infiniteQueryBehavior(pages) {\n  return {\n    onFetch: (context, query) => {\n      var _a, _b, _c, _d, _e;\n      const options = context.options;\n      const direction = (_c = (_b = (_a = context.fetchOptions) == null ? void 0 : _a.meta) == null ? void 0 : _b.fetchMore) == null ? void 0 : _c.direction;\n      const oldPages = ((_d = context.state.data) == null ? void 0 : _d.pages) || [];\n      const oldPageParams = ((_e = context.state.data) == null ? void 0 : _e.pageParams) || [];\n      let result = { pages: [], pageParams: [] };\n      let currentPage = 0;\n      const fetchFn = async () => {\n        let cancelled = false;\n        const addSignalProperty = (object) => {\n          Object.defineProperty(object, \"signal\", {\n            enumerable: true,\n            get: () => {\n              if (context.signal.aborted) {\n                cancelled = true;\n              } else {\n                context.signal.addEventListener(\"abort\", () => {\n                  cancelled = true;\n                });\n              }\n              return context.signal;\n            }\n          });\n        };\n        const queryFn = ensureQueryFn(context.options, context.fetchOptions);\n        const fetchPage = async (data, param, previous) => {\n          if (cancelled) {\n            return Promise.reject();\n          }\n          if (param == null && data.pages.length) {\n            return Promise.resolve(data);\n          }\n          const queryFnContext = {\n            client: context.client,\n            queryKey: context.queryKey,\n            pageParam: param,\n            direction: previous ? \"backward\" : \"forward\",\n            meta: context.options.meta\n          };\n          addSignalProperty(queryFnContext);\n          const page = await queryFn(\n            queryFnContext\n          );\n          const { maxPages } = context.options;\n          const addTo = previous ? addToStart : addToEnd;\n          return {\n            pages: addTo(data.pages, page, maxPages),\n            pageParams: addTo(data.pageParams, param, maxPages)\n          };\n        };\n        if (direction && oldPages.length) {\n          const previous = direction === \"backward\";\n          const pageParamFn = previous ? getPreviousPageParam : getNextPageParam;\n          const oldData = {\n            pages: oldPages,\n            pageParams: oldPageParams\n          };\n          const param = pageParamFn(options, oldData);\n          result = await fetchPage(oldData, param, previous);\n        } else {\n          const remainingPages = pages ?? oldPages.length;\n          do {\n            const param = currentPage === 0 ? oldPageParams[0] ?? options.initialPageParam : getNextPageParam(options, result);\n            if (currentPage > 0 && param == null) {\n              break;\n            }\n            result = await fetchPage(result, param);\n            currentPage++;\n          } while (currentPage < remainingPages);\n        }\n        return result;\n      };\n      if (context.options.persister) {\n        context.fetchFn = () => {\n          var _a2, _b2;\n          return (_b2 = (_a2 = context.options).persister) == null ? void 0 : _b2.call(\n            _a2,\n            fetchFn,\n            {\n              client: context.client,\n              queryKey: context.queryKey,\n              meta: context.options.meta,\n              signal: context.signal\n            },\n            query\n          );\n        };\n      } else {\n        context.fetchFn = fetchFn;\n      }\n    }\n  };\n}\nfunction getNextPageParam(options, { pages, pageParams }) {\n  const lastIndex = pages.length - 1;\n  return pages.length > 0 ? options.getNextPageParam(\n    pages[lastIndex],\n    pages,\n    pageParams[lastIndex],\n    pageParams\n  ) : void 0;\n}\nfunction getPreviousPageParam(options, { pages, pageParams }) {\n  var _a;\n  return pages.length > 0 ? (_a = options.getPreviousPageParam) == null ? void 0 : _a.call(options, pages[0], pages, pageParams[0], pageParams) : void 0;\n}\nfunction hasNextPage(options, data) {\n  if (!data) return false;\n  return getNextPageParam(options, data) != null;\n}\nfunction hasPreviousPage(options, data) {\n  if (!data || !options.getPreviousPageParam) return false;\n  return getPreviousPageParam(options, data) != null;\n}\nexport {\n  hasNextPage,\n  hasPreviousPage,\n  infiniteQueryBehavior\n};\n//# sourceMappingURL=infiniteQueryBehavior.js.map"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}