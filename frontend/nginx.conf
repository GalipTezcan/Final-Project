server {
    listen 80;
    server_name localhost;

    location / {
        root /usr/share/nginx/html;
        index index.html;
        try_files $uri $uri/ /index.html;

        # CORS headers for frontend static files
        add_header 'Access-Control-Allow-Origin' '*' always;
        add_header 'Access-Control-Allow-Methods' 'GET, OPTIONS' always;
        add_header 'Access-Control-Allow-Headers' '*' always;
    }

    location /api/v1/ {
        # In standalone mode, show a message about API server
        default_type application/json;
        
        # For standalone testing, return a specific JSON error
        # In production with docker-compose, this file will be replaced
        return 404 '{"error": "API server not available in standalone mode. Use docker-compose to run the full stack."}';
    }
} 